<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link href="https://fonts.googleapis.com/css?family=Bitter:400,700&display=swap&subset=latin-ext" rel="stylesheet" />
    <title>The Brownie Clicker</title>
    <link rel="stylesheet" href="src/style/brownie.css" />
    <link rel="shortcut icon" href="src/images/BrownieShortcut.png" type="image/png">
    <script type="module" src="src/scripts/eventhandle.js"></script>
    <script type="module" src="src/scripts/variables.js"></script>
    <script type="module" src="src/scripts/basicfunctions.js"></script> 
    <script type="module" src="src/scripts/index.js"></script>

</head>
    <body>
        <main>
            <div id="desktopFirstColumn">
                <section>
                    <h1 id="brownieTitle">The AllMighty Brownie</h1>

                    <div class="scoreInfos">

                        <h2><span id="scoreDisplay">0</span> Brownies</h2>
                        <hr/>
                        <h3><span id="speedDisplay">0</span> B/s</h3>
                    </div>
                    <div id="clickableBrownie">
<!--                         onclick="audio.play() "<script type="text/javascript">let audio = new Audio('./src/sound/crunch.mp3');</script> -->
                        <!-- Uncaught (in promise) DOMException: The element has no supported sources. || waiting for fix -->
                        <img class="responsiveImg" id="imageBrownie" src="src/images/BrownieShortcut.png" draggable="false">
                    </div>
                </section>
                <br/>
                <section id="statsList">
                    <ul class="mainList">
                        <li>
                            <ul class="subList">
                                <li><strong>Multiplicator: </strong><span id="multiplicatorDisplay">0</span></li>
                                <li><strong>Resets: </strong><span id="resetDisplay">0</span></li>
                            </ul>
                        </li>
                        <li>
                            <ul class="subList">
                                <li><strong>Clicked this session: </strong><span id="browniesClickedSessionDisplay">0</span></li>
                                <li><strong>Time lost here: </strong><span id="timeLostDisplay">0</span></li>
                            </ul>
                        </li>
                        <li>
                            <strong>Brownies per click: </strong><span id="browniesPerClickDisplay">0</span>
                        </li>
                        <li>
                            <strong>Bonus owned: </strong><span id="nbBonusDisplay">0</span>
                        </li>
                    </ul>
                </section>
            </div>
            
            <div id="desktopSecondColumn">
                <div id="farms">
                </div>
                <div id="desktopOptions">
                    <ul>
                        <li><button id="soundDesktopToggle">Mute</button></li>
                        <li><button id="themeDesktopToggle">Dark</button></li>
                        <li><button id="languageDesktopToggle">En</button></li>
                        <li><button id="successDesktopToggle">Popup</button></li>
                    </ul>
                </div>
            </div>

            <div id="desktopThirdColumn">
                <section id="shop">

                    <!-- <h2>Shop</h2> -->

                    <div id="bottomMenu">
                        
                        <div id="subMenu">
                            <button id="menuButton"><span></span></button>
                            <ul id="upgradesList">
                                <li><button id="autoClick">AC</button><div>Auto Click<span>0</span></div></li>
                                <li><button id="multiplying">Mult.</button><div>Multiplicator<span>0</span></div></li>
                                <li><button id="resetButton">U3</button><div><span>0</span></div></li>
                                <li><button id="buttonUpgrade4">U4</button><div><span>0</span></div></li>
                                <li><button id="buttonUpgrade5">U5</button><div><span>0</span></div></li>
                            </ul>
                            <ul id="bonusList">
                                <li><button id="buttonBonus1">B1</button><div><span>0</span></div></li>
                                <li><button id="buttonBonus2">B2</button><div><span>0</span></div></li>
                                <li><button id="buttonBonus3">B3</button><div><span>0</span></div></li>
                                <li><button id="buttonBonus4">B4</button><div><span>0</span></div></li>
                                <li><button id="buttonBonus5">B5</button><div><span>0</span></div></li>
                            </ul>
                            <ul id="skinsList">
                                <li><button id="buttonSkin1">ON</button><div>Kraken Kitty<span>0</span></div></li>
                                <li><button id="buttonSkin2">OFF</button><div>Hunting Horn<span>0</span></div></li>
                                <li><button id="buttonSkin3">OFF</button><div>Invader<span>0</span></div></li>
                                <li><button id="buttonSkin4">OFF</button><div>Skylands<span>0</span></div></li>
                            </ul>
                            <ul id="optionsList">
                                <li><button id="soundToggle">Sound</button></li>
                                <li><button id="themeToggle">Theme</button></li>
                                <li><button id="languageToggle">Language</button></li>
                                <li><button id="gitHubRepos">GitHub</button></li>
                                <li><button id="successListButton">Success</button></li>
                                <li><button id="successPopupToggle">Popups</button></li>
                            </ul>
                        </div>

                        <ul id="tabMenu">
                            <li><button id="upgradesButton">Upgrade</button></li>
                            <li><button id="bonusButton">Bonus</button></li>
                            <li><button id="skinsButton">Skins</button></li>
                            <li><button id="optionsButton">Options</button></li>
                        </ul>

                    </div>
                </section>
                                                          
                 <div id="fakeAdd">

                    <a href="https://github.com/The-Brownie-Project" target="_blank"><img
                        alt="Shrek"></a>
                </div>

                <section id="successList">
                    <h2>Success</h2>
                    <ul class="mainList">
                    <li title="Get one brownie"><img />
                        <div>
                            <strong>1st Brownie</strong>
                            <em>The first brownie of a long collection</em>
                        </div>
                    </li>

                    <li title="Unlock fisrt autoclick"><img />
                        <div>
                            <strong>They Stole Our Work</strong>
                            <em>hire you're first Brownie Maker</em>
                        </div>

                    </li>
                    <li title="Unlock first upgrade"><img />
                        <div>
                            <strong>LEVEL UP !</strong>
                            <em>Unlock you're first Upgrade</em>
                        </div>
                    </li>

                    <li title="Have 1 hour in-game"><img />
                        <div>
                            <strong>One Hour Later...</strong>
                            <em>Seriously ?! 1 hour ?! Go touch some grass please !</em>
                        </div>
                    </li>

                    <li title="Get 9001 brownie"><img />
                        <div>
                            <strong>IT'S OVER NINE THOUSAND!</strong>
                            <em>Get 9001 Brownie to become a super sayian</em>
                        </div>
                    </li>

                    <li title="Unlock the first skins"><img />
                        <div>
                            <strong>Nice Drip Bro</strong>
                            <em>Get you're first skin because you have the style in you</em>
                        </div>
                    </li>

                    <li title="Get the first reset"><img />
                        <div>
                            <strong>Another One Bites the Dust</strong>
                            <em>Nuke the brownie and return to the past</em>
                        </div>
                    </li>

                    <li title="Toggle the light mode"><img />
                        <div>
                            <strong>/time set day</strong>
                            <em>NOT THE LIGHT!</em>
                        </div>
                    </li>

                    <li title="Change language to french"><img />
                        <div>
                            <strong>Omelette du Fromage</strong>
                            <em>Baguette or not baguette that is the question</em>
                        </div>
                    </li>

                    <li title="Get 1M brownie per second"><img />
                        <div>
                            <strong>Fly Me to the Moon</strong>
                            <em>And let me play among the star</em>
                        </div>
                    </li>

                    <li title="Toggle the sound"><img />
                        <div>
                            <strong>*Snap Noise*</strong>
                            <em>Mister stark i'm not feel so good</em>
                        </div>
                    </li>

                    <li title="Share stats"><img />
                        <div>
                            <strong>I Have the Hightground</strong>
                            <em>It's over anakin</em>
                        </div>
                    </li>

                    <li title="Click on the fake pub"><img />
                        <div>
                            <strong>Ha Gotcha</strong>
                            <em>I trick you to think i thinked of somthing but NO</em>
                        </div>
                    </li>

                    <li title="Toggle the succes popup"><img />
                        <div>
                            <strong>Succesception</strong>
                            <em>A succes into a succes into a success into a succes...</em>
                        </div>
                    </li>

                    <li title="Spend 100h in-game"><img />
                        <div>
                            <strong>Crazy ???</strong>
                            <em>Crazy ? I was crazy once !</em>
                        </div>
                    </li>

                    <li title="Take the kraken kitty skins"><img />
                        <div>
                            <strong>A Kraken Kitty ON A Brownie?</strong>
                            <em>He is so cute UwU</em>
                        </div>
                    </li>
                        
                    </ul>
                </section>
            </div>

            <script>
                const gitHubButton = document.getElementById('gitHubRepos');
                gitHubButton.addEventListener('click', () => {
                    window.open('https://github.com/The-Brownie-Project/The-Brownie-Clicker');
                })

                const subMenu = document.getElementById('subMenu');
                const openMenuBtn = document.getElementById('menuButton');
                
                const upgradesButton = document.getElementById('upgradesButton');
                const bonusButton = document.getElementById('bonusButton');
                const skinsButton = document.getElementById('skinsButton');
                const optionsButton = document.getElementById('optionsButton');

                upgradesList.style.height = '0px'
                bonusList.style.height = '0px'
                skinsList.style.height = '0px'
                optionsList.style.height = '0px'
                
                openMenuBtn.style.border = 'solid 1px var(--textReverse)'

                openMenuBtn.addEventListener('click', () => {
                    if (upgradesList.style.height === '0px' &&
                        bonusList.style.height === '0px' &&
                        skinsList.style.height === '0px' &&
                        optionsList.style.height === '0px' &&
                        localStorage.getItem('subMenuMode') !== null){
                        openSubMenu()
                    } else {
                        closeSubMenu()
                    }
                })

                upgradesButton.addEventListener('click', () => {
                    if (upgradesList.style.height === '0px'){
                        closeSubMenu()
                        localStorage.setItem('subMenuMode', 'upgradesList')
                        openSubMenu()
                    } else {
                        closeSubMenu()
                    }
                })

                bonusButton.addEventListener('click', () => {
                    if (bonusList.style.height === '0px'){
                        closeSubMenu()
                        localStorage.setItem('subMenuMode', 'bonusList')
                        openSubMenu()
                    } else {
                        closeSubMenu()
                    }
                })

                skinsButton.addEventListener('click', () => {
                    if (skinsList.style.height === '0px'){
                        closeSubMenu()
                        localStorage.setItem('subMenuMode', 'skinsList')
                        openSubMenu()
                    } else {
                        closeSubMenu()
                    }
                })

                optionsButton.addEventListener('click', () => {
                    if (optionsList.style.height === '0px'){
                        closeSubMenu()
                        localStorage.setItem('subMenuMode', 'optionsList')
                        openSubMenu()
                    } else {
                        closeSubMenu()
                    }
                })

                function openSubMenu(){
                    subMenuMode = localStorage.getItem('subMenuMode')
                    menuToOpen = document.getElementById(subMenuMode)
                    
                    if (menuToOpen.style.height === '0px') {
                        if (window.innerWidth < '1200'){
                            menuToOpen.style.animation = '0.3s deploySubmenu'
                            menuToOpen.style.height = '16.55rem'
                        } else {
                            menuToOpen.style.animation = ' 0.2s deploySubmenuDesktop'
                            menuToOpen.style.height = '100%'
                        }
                        openMenuBtn.style.border = 'solid 1px var(--text)'
                    }
                }

                function closeSubMenu(){
                    subMenuMode = localStorage.getItem('subMenuMode')
                    menuToClose = document.getElementById(subMenuMode)
                    if (menuToClose === null){
                        return
                    }
                    
                    if (window.innerWidth < '1200'){
                        menuToClose.style.animation = '0.3s retractSubmenu'
                    } else {
                        menuToClose.style.animation = '0.2s retractSubmenuDesktop'
                    }
                    menuToClose.style.height = '0px'
                    openMenuBtn.style.border = 'solid 1px var(--textReverse)'
                }
            </script>

        </main>
        <footer>
        </footer>
    </body>
</html>
